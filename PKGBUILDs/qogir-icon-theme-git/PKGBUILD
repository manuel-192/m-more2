# Maintainer: manuel
# Original Maintainer: Aitor Alonso <contact: https://aalonso.eu>

# pkgname=qogir-icon-theme-git
pkgname=eos-qogir-icons
pkgver=6.1.333  # see $Pkgver and $Commits_wanted below!
pkgrel=1.1
pkgdesc='A colorful design icon theme for linux desktops'
arch=('any')
url='https://github.com/vinceliuice/Qogir-icon-theme'
license=('GPL3')
depends=('hicolor-icon-theme' 'gtk-update-icon-cache')
makedepends=('git')
optdepends=()
provides=('qogir-icon-theme' eos-qogir-icons)
conflicts=('qogir-icon-theme' eos-qogir-icons)
options=('!strip')
source=('git+https://github.com/vinceliuice/Qogir-icon-theme')
sha256sums=('SKIP')

pkgver() {
  cd Qogir-icon-theme

  local commits_new=$(git rev-list --count HEAD)
  local Pkgver=6.1
  local Commits_wanted=333    # this specifies what version we want to use

  if [ $commits_new -gt $Commits_wanted ] ; then
      echo "WARNING: $pkgname/commits $Commits_wanted -> $commits_new, building with $Commits_wanted" >&2
  elif [ $commits_new -lt $Commits_wanted ] ; then
      echo "ERROR: $pkgname/commits $Commits_wanted -> $commits_new, will not build" >&2
      return 1
  fi
  echo "$Pkgver.$Commits_wanted"
}

package() {
  cd Qogir-icon-theme
  mkdir -p "${pkgdir}/usr/share/icons"
  ./install.sh -d "${pkgdir}/usr/share/icons" --theme default
}
